{"ast":null,"code":"import React from\"react\";import FeedPost from\"./FeedPost\";import classes from'./FeedContainer.module.css';import $ from'jquery';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";$.ajaxSetup({// тип запроса\ntype:\"POST\",data:{},dataType:'json',xhrFields:{withCredentials:true},crossDomain:true,contentType:'application/json; charset=utf-8'});function sendJSON(user_data,user_url,req_type){// запрос на сервер\nvar xhr=new XMLHttpRequest();var url=\"https://www.uralafonperm.ru/\"+user_url;xhr.open(req_type,url,false);xhr.setRequestHeader(\"Content-Type\",\"application/json\");xhr.onreadystatechange=function(){if(xhr.readyState===4&&xhr.status===200){console.log(req_type+' request was received');}};xhr.send(JSON.stringify(user_data));return JSON.parse(xhr.responseText);}var response=null;try{response=sendJSON('','/api/v1/','GET');}catch(_unused){console.log('Server requeet error');}var renderFeedContainerContent=function renderFeedContainerContent(response){if(response!=null){return/*#__PURE__*/_jsx(\"div\",{className:classes.feed_container_content,children:response['posts'].map(function(e,index){return/*#__PURE__*/_jsx(FeedPost,{post:e,post_img:response['img'][index],post_num:response['posts'].indexOf(e)},index);})});}else{return/*#__PURE__*/_jsx(\"div\",{className:classes.feed_container_content,children:/*#__PURE__*/_jsx(\"p\",{children:\"SERVER RESPONSE ERROR\"})});}};var FeedContainer=function FeedContainer(){return/*#__PURE__*/_jsxs(\"div\",{className:classes.feed_container,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.feed_container_header,children:/*#__PURE__*/_jsx(\"p\",{children:\"\\u041F\\u041E\\u0421\\u041B\\u0415\\u0414\\u041D\\u0418\\u0415 \\u041D\\u041E\\u0412\\u041E\\u0421\\u0422\\u0415\\u0419\"})}),renderFeedContainerContent(response)]});};export default FeedContainer;","map":{"version":3,"names":["React","FeedPost","classes","$","jsx","_jsx","jsxs","_jsxs","ajaxSetup","type","data","dataType","xhrFields","withCredentials","crossDomain","contentType","sendJSON","user_data","user_url","req_type","xhr","XMLHttpRequest","url","open","setRequestHeader","onreadystatechange","readyState","status","console","log","send","JSON","stringify","parse","responseText","response","_unused","renderFeedContainerContent","className","feed_container_content","children","map","e","index","post","post_img","post_num","indexOf","FeedContainer","feed_container","feed_container_header"],"sources":["/home/insultados/my-app/src/components/feed/FeedContainer.jsx"],"sourcesContent":["import React from \"react\";\nimport FeedPost from \"./FeedPost\";\nimport classes from './FeedContainer.module.css'\nimport $ from 'jquery'\n\n\n\n$.ajaxSetup({ // тип запроса\n    type: \"POST\",\n    data: {},\n    dataType: 'json',\n    xhrFields: {\n        withCredentials: true\n    },\n    crossDomain: true,\n    contentType: 'application/json; charset=utf-8'\n});\n\n\nfunction sendJSON(user_data, user_url, req_type) { // запрос на сервер\n    let xhr = new XMLHttpRequest();\n    let url = \"https://www.uralafonperm.ru/\" + user_url;\n    xhr.open(req_type, url, false);\n    xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4 && xhr.status === 200) {\n            console.log(req_type + ' request was received');\n        }\n    };\n    xhr.send(JSON.stringify(user_data));\n    return JSON.parse(xhr.responseText);\n}\n\nlet response = null;\ntry {\n    response = sendJSON('', '/api/v1/', 'GET');\n}\ncatch {\n    console.log('Server requeet error')\n}\n\nconst renderFeedContainerContent = (response) => {\n    if (response != null) {\n        return (\n            <div className={classes.feed_container_content}>\n                {response['posts'].map((e, index) => (\n                    <FeedPost key={index} post={e} post_img={response['img'][index]} post_num={response['posts'].indexOf(e)} />\n                ))}\n            </div>)\n    }\n    else {\n        return (\n            <div className={classes.feed_container_content}>\n                <p>SERVER RESPONSE ERROR</p>\n            </div>)\n    }\n}\n\nconst FeedContainer = () => {\n\n\n    return (\n        <div className={classes.feed_container}>\n            <div className={classes.feed_container_header}>\n                <p>ПОСЛЕДНИЕ НОВОСТЕЙ</p>\n            </div>\n            {renderFeedContainerContent(response)}\n        </div>\n    )\n}\n\nexport default FeedContainer;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,MAAO,CAAAC,OAAO,KAAM,4BAA4B,CAChD,MAAO,CAAAC,CAAC,KAAM,QAAQ,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAItBJ,CAAC,CAACK,SAAS,CAAC,CAAE;AACVC,IAAI,CAAE,MAAM,CACZC,IAAI,CAAE,CAAC,CAAC,CACRC,QAAQ,CAAE,MAAM,CAChBC,SAAS,CAAE,CACPC,eAAe,CAAE,IACrB,CAAC,CACDC,WAAW,CAAE,IAAI,CACjBC,WAAW,CAAE,iCACjB,CAAC,CAAC,CAGF,QAAS,CAAAC,QAAQA,CAACC,SAAS,CAAEC,QAAQ,CAAEC,QAAQ,CAAE,CAAE;AAC/C,GAAI,CAAAC,GAAG,CAAG,GAAI,CAAAC,cAAc,EAAE,CAC9B,GAAI,CAAAC,GAAG,CAAG,8BAA8B,CAAGJ,QAAQ,CACnDE,GAAG,CAACG,IAAI,CAACJ,QAAQ,CAAEG,GAAG,CAAE,KAAK,CAAC,CAC9BF,GAAG,CAACI,gBAAgB,CAAC,cAAc,CAAE,kBAAkB,CAAC,CACxDJ,GAAG,CAACK,kBAAkB,CAAG,UAAY,CACjC,GAAIL,GAAG,CAACM,UAAU,GAAK,CAAC,EAAIN,GAAG,CAACO,MAAM,GAAK,GAAG,CAAE,CAC5CC,OAAO,CAACC,GAAG,CAACV,QAAQ,CAAG,uBAAuB,CAAC,CACnD,CACJ,CAAC,CACDC,GAAG,CAACU,IAAI,CAACC,IAAI,CAACC,SAAS,CAACf,SAAS,CAAC,CAAC,CACnC,MAAO,CAAAc,IAAI,CAACE,KAAK,CAACb,GAAG,CAACc,YAAY,CAAC,CACvC,CAEA,GAAI,CAAAC,QAAQ,CAAG,IAAI,CACnB,GAAI,CACAA,QAAQ,CAAGnB,QAAQ,CAAC,EAAE,CAAE,UAAU,CAAE,KAAK,CAAC,CAC9C,CACA,MAAAoB,OAAA,CAAM,CACFR,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC,CACvC,CAEA,GAAM,CAAAQ,0BAA0B,CAAG,QAA7B,CAAAA,0BAA0BA,CAAIF,QAAQ,CAAK,CAC7C,GAAIA,QAAQ,EAAI,IAAI,CAAE,CAClB,mBACI9B,IAAA,QAAKiC,SAAS,CAAEpC,OAAO,CAACqC,sBAAuB,CAAAC,QAAA,CAC1CL,QAAQ,CAAC,OAAO,CAAC,CAACM,GAAG,CAAC,SAACC,CAAC,CAAEC,KAAK,qBAC5BtC,IAAA,CAACJ,QAAQ,EAAa2C,IAAI,CAAEF,CAAE,CAACG,QAAQ,CAAEV,QAAQ,CAAC,KAAK,CAAC,CAACQ,KAAK,CAAE,CAACG,QAAQ,CAAEX,QAAQ,CAAC,OAAO,CAAC,CAACY,OAAO,CAACL,CAAC,CAAE,EAAzFC,KAAK,CAAuF,EAC9G,CAAC,EACA,CACd,CAAC,IACI,CACD,mBACItC,IAAA,QAAKiC,SAAS,CAAEpC,OAAO,CAACqC,sBAAuB,CAAAC,QAAA,cAC3CnC,IAAA,MAAAmC,QAAA,CAAG,uBAAqB,EAAI,EAC1B,CACd,CACJ,CAAC,CAED,GAAM,CAAAQ,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CAGxB,mBACIzC,KAAA,QAAK+B,SAAS,CAAEpC,OAAO,CAAC+C,cAAe,CAAAT,QAAA,eACnCnC,IAAA,QAAKiC,SAAS,CAAEpC,OAAO,CAACgD,qBAAsB,CAAAV,QAAA,cAC1CnC,IAAA,MAAAmC,QAAA,CAAG,yGAAkB,EAAI,EACvB,CACLH,0BAA0B,CAACF,QAAQ,CAAC,GACnC,CAEd,CAAC,CAED,cAAe,CAAAa,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}