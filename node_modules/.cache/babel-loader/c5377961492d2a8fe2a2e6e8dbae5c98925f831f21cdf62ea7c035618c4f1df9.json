{"ast":null,"code":"import _slicedToArray from\"/home/insultados/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import FeedPost from\"./FeedPost\";import classes from'./FeedContainer.module.css';import{useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var renderFeedContainerContent=function renderFeedContainerContent(response){if(response!==null){return/*#__PURE__*/_jsx(\"div\",{className:classes.feed_container_content,children:response['posts'].map(function(e,index){return/*#__PURE__*/_jsx(FeedPost,{post:e,post_img:response['img'][index],post_num:response['posts'].indexOf(e)},index);})});}};var FeedContainer=function FeedContainer(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoaded=_useState4[0],setIsLoaded=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),items=_useState6[0],setItems=_useState6[1];var url=\"https://www.uralafonperm.ru/api/\";useEffect(function(){fetch(url).then(function(res){return res.json();}).then(function(result){setIsLoaded(true);setItems(result);},function(error){setIsLoaded(true);setError(error);});},[]);if(error){return/*#__PURE__*/_jsxs(\"div\",{className:classes.feed_container,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.feed_container_header,children:/*#__PURE__*/_jsx(\"p\",{children:\"\\u041F\\u041E\\u0421\\u041B\\u0415\\u0414\\u041D\\u0418\\u0415 \\u041D\\u041E\\u0412\\u041E\\u0421\\u0422\\u0415\\u0419\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[\"ERROR: \",error.message]})]});}else if(!isLoaded){return/*#__PURE__*/_jsxs(\"div\",{className:classes.feed_container,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.feed_container_header,children:/*#__PURE__*/_jsx(\"p\",{children:\"\\u041F\\u041E\\u0421\\u041B\\u0415\\u0414\\u041D\\u0418\\u0415 \\u041D\\u041E\\u0412\\u041E\\u0421\\u0422\\u0415\\u0419\"})}),/*#__PURE__*/_jsx(\"div\",{children:\"LOADING...\"})]});}else{return/*#__PURE__*/_jsxs(\"div\",{className:classes.feed_container,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.feed_container_header,children:/*#__PURE__*/_jsx(\"p\",{children:\"\\u041F\\u041E\\u0421\\u041B\\u0415\\u0414\\u041D\\u0418\\u0415 \\u041D\\u041E\\u0412\\u041E\\u0421\\u0422\\u0415\\u0419\"})}),renderFeedContainerContent(items)]});}};export default FeedContainer;","map":{"version":3,"names":["React","FeedPost","classes","useState","useEffect","jsx","_jsx","jsxs","_jsxs","renderFeedContainerContent","response","className","feed_container_content","children","map","e","index","post","post_img","post_num","indexOf","FeedContainer","_useState","_useState2","_slicedToArray","error","setError","_useState3","_useState4","isLoaded","setIsLoaded","_useState5","_useState6","items","setItems","url","fetch","then","res","json","result","feed_container","feed_container_header","message"],"sources":["/home/insultados/my-app/src/components/feed/FeedContainer.jsx"],"sourcesContent":["import React from \"react\";\nimport FeedPost from \"./FeedPost\";\nimport classes from './FeedContainer.module.css'\nimport { useState, useEffect } from \"react\";\n\n\n\nconst renderFeedContainerContent = (response) => {\n\n    if (response !== null) {\n        return (\n            <div className={classes.feed_container_content}>\n                {response['posts'].map((e, index) => (\n                    <FeedPost key={index} post={e} post_img={response['img'][index]} post_num={response['posts'].indexOf(e)} />\n                ))}\n            </div>)\n    }\n}\n\nconst FeedContainer = () => {\n\n    const [error, setError] = useState(null);\n    const [isLoaded, setIsLoaded] = useState(false);\n    const [items, setItems] = useState([]);\n\n    const url = \"https://www.uralafonperm.ru/api/\"\n\n    useEffect(() => {\n        fetch(url)\n            .then(res => res.json())\n            .then(\n                (result) => {\n                    setIsLoaded(true);\n                    setItems(result);\n                },\n                (error) => {\n                    setIsLoaded(true);\n                    setError(error);\n                }\n            )\n    }, [])\n\n    if (error) {\n        return (\n            <div className={classes.feed_container}>\n                <div className={classes.feed_container_header}>\n                    <p>ПОСЛЕДНИЕ НОВОСТЕЙ</p>\n                </div>\n                <div>ERROR: {error.message}</div>\n            </div>)\n    } else if (!isLoaded) {\n        return (\n            <div className={classes.feed_container}>\n                <div className={classes.feed_container_header}>\n                    <p>ПОСЛЕДНИЕ НОВОСТЕЙ</p>\n                </div>\n                <div>LOADING...</div>\n            </div>)\n    } else {\n        return (\n            <div className={classes.feed_container}>\n                <div className={classes.feed_container_header}>\n                    <p>ПОСЛЕДНИЕ НОВОСТЕЙ</p>\n                </div>\n                {renderFeedContainerContent(items)}\n            </div>\n        );\n    }\n}\n\nexport default FeedContainer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}